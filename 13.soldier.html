<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        canvas {
            border: 1px solid #000;
            background-color: #ccc;
        }
    </style>
</head>
<body>
<canvas width="800" height="500"></canvas>
<script>
    var canvas = document.querySelector("canvas");
    var ctx = canvas.getContext("2d");
    var img = new Image();
    img.src = "img/gameImgs/士兵(1).png";
    var i = 0;
    var startX = 50, startY = 50;
    var step = 5;
    var width = img.width / 4;
    var height = img.height / 4;
    img.onload = function () {
        var timer = setInterval(function () {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            if (startX<=50) {
                ctx.drawImage(img, width * i, 0, width, height, startX, startY + step, width, height);
                startY += step;
            }
            if(startY>canvas.height-height){
                ctx.drawImage(img, width * i, height*2, width, height, startX+step, startY, width, height);
                startX += step;
            }
            if(startX>canvas.width-width-20){
                ctx.drawImage(img, width * i, height*3, width, height, startX, startY-step, width, height);
                startY -= step;
            }
            if(startY<=50){
                ctx.drawImage(img, width * i, height*1, width, height, startX-step, startY, width, height);
                startX -= step;
            }
            i++;
            if(i>3){
                i=0;
            }
        }, 120)
    };
</script>
</body>
</html>